<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:fApp.Games.EndureIntervals"
             x:Class="fApp.Games.EndureIntervals.EndureIntervalsGamePage"
             NavigationPage.HasNavigationBar="False">

    <Grid Padding="18"
          RowDefinitions="Auto,*,Auto"
          RowSpacing="14">

        <Grid Grid.Row="0"
              ColumnDefinitions="Auto,*,Auto"
              ColumnSpacing="12">

            <Button Grid.Column="0"
                    Text="{x:Static local:EndureIntervalsResources.Game_End}"
                    WidthRequest="76"
                    HeightRequest="76"
                    CornerRadius="999"
                    Padding="0"
                    FontSize="22"
                    BackgroundColor="{StaticResource ButtonColor}"
                    TextColor="{StaticResource White}"
                    Command="{Binding EndCommand}" />

            <Image Grid.Column="1"
                   Source="smoke_small.svg"
                   HeightRequest="120"
                   Aspect="AspectFit"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   Margin="0,2,0,2" />

            <Button Grid.Column="2"
                    Text="{x:Static local:EndureIntervalsResources.Game_Reset}"
                    WidthRequest="76"
                    HeightRequest="76"
                    CornerRadius="999"
                    Padding="0"
                    FontSize="22"
                    BackgroundColor="{StaticResource ButtonColor}"
                    TextColor="{StaticResource White}"
                    Command="{Binding ResetCommand}" />
        </Grid>

        <Grid Grid.Row="1"
              RowDefinitions="*,*"
              RowSpacing="16"
              VerticalOptions="Fill"
              HorizontalOptions="Fill">

            <Border Grid.Row="0"
                    StrokeThickness="0"
                    BackgroundColor="{StaticResource SpecialColor}"
                    StrokeShape="RoundRectangle 999"
                    HorizontalOptions="Center"
                    VerticalOptions="Center"
                    HeightRequest="{Binding TimerCircleSize}"
                    WidthRequest="{Binding TimerCircleSize}">

                <Border.Shadow>
                    <Shadow Radius="14"
                            Opacity="0.35"
                            Offset="0,4" />
                </Border.Shadow>

                <Grid RowDefinitions="Auto,*"
                      RowSpacing="6"
                      VerticalOptions="Center"
                      HorizontalOptions="Center">

                    <Label Grid.Row="0"
                           Text="Timer 1"
                           FontSize="30"
                           Opacity="0.9"
                           Margin="0,10,0,0" />

                    <Label Grid.Row="1"
                           Text="{Binding Timer1RemainingText}"
                           FontSize="88"
                           VerticalOptions="Center"
                           HorizontalOptions="Center"
                           VerticalTextAlignment="Center"
                           HorizontalTextAlignment="Center"
                           Margin="0,-8,0,0" />

                </Grid>

            </Border>

            <Border Grid.Row="1"
                    StrokeThickness="0"
                    BackgroundColor="{StaticResource SpecialColor}"
                    StrokeShape="RoundRectangle 999"
                    HorizontalOptions="Center"
                    VerticalOptions="Center"
                    IsVisible="{Binding IsTimer2Visible}"
                    HeightRequest="{Binding TimerCircleSize}"
                    WidthRequest="{Binding TimerCircleSize}">

                <Border.Shadow>
                    <Shadow Radius="14"
                            Opacity="0.35"
                            Offset="0,4" />
                </Border.Shadow>

                <Grid RowDefinitions="Auto,*"
                      RowSpacing="6"
                      VerticalOptions="Center"
                      HorizontalOptions="Center">

                    <Label Grid.Row="0"
                           Text="Timer 2"
                           FontSize="30"
                           Opacity="0.9"
                           Margin="0,10,0,0" />

                    <Label Grid.Row="1"
                           Text="{Binding Timer2RemainingText}"
                           FontSize="88"
                           VerticalOptions="Center"
                           HorizontalOptions="Center"
                           VerticalTextAlignment="Center"
                           HorizontalTextAlignment="Center"
                           Margin="0,-8,0,0" />

                </Grid>

            </Border>

        </Grid>

        <Button Grid.Row="2"
                Text="{Binding StartPauseText}"
                HeightRequest="86"
                CornerRadius="24"
                FontSize="34"
                HorizontalOptions="Fill"
                VerticalOptions="End"
                Margin="0"
                Command="{Binding StartPauseCommand}">
            <Button.Shadow>
                <Shadow Radius="10"
                        Opacity="0.30"
                        Offset="0,3" />
            </Button.Shadow>
        </Button>

    </Grid>
</ContentPage>
